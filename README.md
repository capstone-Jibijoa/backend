ðŸ“„ ëª¨ë“ˆ ê´€ê³„ ë¶„ì„ 
ðŸš€ í”„ë¡œì íŠ¸ ê°œìš”
ì´ í”„ë¡œì íŠ¸ëŠ” FastAPI ê¸°ë°˜ì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ìœ¼ë¡œ, ì‚¬ìš©ìžì˜ ìžì—°ì–´ ì¿¼ë¦¬ë¥¼ ì²˜ë¦¬í•˜ê³  ë°ì´í„°ë² ì´ìŠ¤ì— ì €ìž¥ëœ ì •ë³´ì™€ ìƒí˜¸ìž‘ìš©í•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤. ì‹œìŠ¤í…œì€ ëª…í™•í•œ ì—­í•  ë¶„ë‹´ì„ ìœ„í•´ ì—¬ëŸ¬ ëª¨ë“ˆë¡œ ë‚˜ë‰˜ì–´ ìžˆìŠµë‹ˆë‹¤.

ðŸ§© ëª¨ë“ˆ ê´€ê³„ ë° ì—­í• 
í”„ë¡œì íŠ¸ì˜ í•µì‹¬ ëª¨ë“ˆë“¤ì€ ë‹¤ìŒê³¼ ê°™ì€ ì˜ì¡´ì„±ì„ ê°€ì§‘ë‹ˆë‹¤.

main.py

ì—­í• : ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì§„ìž…ì (Entry Point) ì—­í• ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.

ì£¼ìš” ê¸°ëŠ¥: FastAPI ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•˜ê³ , API ì—”ë“œí¬ì¸íŠ¸ (/api/search, /api/search/log, /split)ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.

ì˜ì¡´ì„±: bedrock_logic.pyì™€ db_logic.pyì— ì˜ì¡´í•˜ì—¬ ì „ì²´ ì‹œìŠ¤í…œì˜ íë¦„ì„ ì¡°ìœ¨í•˜ëŠ” ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„°(Orchestrator) ì—­í• ì„ í•©ë‹ˆë‹¤.

bedrock_logic.py

ì—­í• : AI ë¡œì§ ì²˜ë¦¬ë¥¼ ë‹´ë‹¹í•©ë‹ˆë‹¤.

ì£¼ìš” ê¸°ëŠ¥: AWS Bedrock ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•´ ì‚¬ìš©ìž ì¿¼ë¦¬ ë¶„ë¦¬ ë° ìž„ë² ë”© ìƒì„±ê³¼ ê°™ì€ ìžì—°ì–´ ì²˜ë¦¬ ìž‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.

ì˜ì¡´ì„±: ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì¸ boto3ë¥¼ í†µí•´ AWSì™€ í†µì‹ í•˜ë©°, ë‹¤ë¥¸ ë‚´ë¶€ ëª¨ë“ˆì— ëŒ€í•œ ì˜ì¡´ì„±ì´ ì—†ëŠ” ë…ë¦½ì ì¸ ëª¨ë“ˆìž…ë‹ˆë‹¤.

db_logic.py

ì—­í• : ë°ì´í„°ë² ì´ìŠ¤ ë¡œì§ ì²˜ë¦¬ë¥¼ ë‹´ë‹¹í•©ë‹ˆë‹¤.

ì£¼ìš” ê¸°ëŠ¥: PostgreSQL ë°ì´í„°ë² ì´ìŠ¤ì™€ì˜ ëª¨ë“  ìƒí˜¸ìž‘ìš©(ì—°ê²°, í…Œì´ë¸” ìƒì„±, ì¿¼ë¦¬ ì‹¤í–‰, ë¡œê·¸ ì €ìž¥)ì„ ê´€ë¦¬í•©ë‹ˆë‹¤.

ì˜ì¡´ì„±: psycopg2 ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ë©°, spl_queries.pyë¡œë¶€í„° í…Œì´ë¸” ìƒì„±ì„ ìœ„í•œ SQL ì¿¼ë¦¬ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.

spl_queries.py

ì—­í• : SQL ì¿¼ë¦¬ ì €ìž¥ì†Œìž…ë‹ˆë‹¤.

ì£¼ìš” ê¸°ëŠ¥: ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸” ìƒì„±ì„ ìœ„í•œ CREATE TABLE SQL êµ¬ë¬¸ì„ ë¬¸ìžì—´ ë³€ìˆ˜ë¡œ ì €ìž¥í•˜ê³  ì œê³µí•©ë‹ˆë‹¤.

ì˜ì¡´ì„±: ë‹¤ë¥¸ ëª¨ë“ˆì— ì˜ì¡´í•˜ì§€ ì•ŠëŠ” ë‹¨ìˆœ ë°ì´í„° ëª¨ë“ˆìž…ë‹ˆë‹¤.

ðŸ—ºï¸ ëª¨ë“ˆ ê°„ ì˜ì¡´ì„± ìš”ì•½
ë‹¤ìŒì€ ê° ëª¨ë“ˆ ê°„ì˜ ì˜ì¡´ì„±ì„ ë„ì‹í™”í•œ ê²ƒìž…ë‹ˆë‹¤.

main.py â”€â”€â”€â”€â”€â”
            â”œâ”€â”€> bedrock_logic.py
            â””â”€â”€> db_logic.py â”€â”€â”€â”€â”€> spl_queries.py
ì´ êµ¬ì¡°ëŠ” ê° ëª¨ë“ˆì˜ ì—­í• ì„ ëª…í™•ížˆ ë¶„ë¦¬í•˜ê³ , ìœ ì§€ë³´ìˆ˜ ë° í™•ìž¥ì„±ì„ ë†’ì´ëŠ” ë° ê¸°ì—¬í•©ë‹ˆë‹¤.

### ê°€ìƒí™˜ê²½ ê´€ë ¨ ì„¤ì •
í™œì„±í™” => .\venv\Scripts\activate
ë¹„í™œì„±í™” => deactivate

### API ì„œë²„ ì‹¤í–‰
uvicorn main:app --reload
